(self.webpackChunklite=self.webpackChunklite||[]).push([[2399],{34353:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(67294),i=n.n(r),o=n(79316),a=n(62630),l=n(27572),c=n(28309);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=i().createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const m=function(e){return i().createElement("svg",s({width:20,height:16,viewBox:"0 0 20 16"},e),u)};var d=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,i=e.buttonStyle,s=void 0===i?"STRONG":i,u=e.newsletterV3Id,d=e.showMailIcon,b=void 0===d||d,f=e.onClick,p=e.width,E=e.buttonText,h=void 0===E?"Get this newsletter":E,g=(0,l.Qi)(),w=(0,a.Av)(),v=(0,c.Iq)();return r.createElement(o.zx,{buttonStyle:s,onClick:function(){w.event("newsletterV3.subscribeClicked",{newsletterV3Id:u,source:g}),f()},size:n,width:p},b&&r.createElement("span",{className:v((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(m,null)),h)}},11675:(e,t,n)=>{"use strict";n.d(t,{x:()=>P,B:()=>_});var r=n(63038),i=n.n(r),o=n(28655),a=n.n(o),l=n(71439),c=n(67294),s=n(70561),u=n(26839),m=n(34353),d=n(79316),b=n(7688),f=n(80735),p=n(27952),E=function(e){var t=e.name,n=(0,s.v9)((function(e){return e.config.authDomain}));return c.createElement(d.Bn,{initialVisibility:!0},(function(e){var r=e.hide;return e.isVisible&&c.createElement(b.Z,{isVisible:!0,toastStyle:"NEWSLETTER_UNSUBSCRIBE",duration:5e3,hide:function(){}},c.createElement(f.QE,{scale:"S",color:"DARKER"},c.createElement(c.Fragment,null,"You have unsubscribed from ",c.createElement("b",null,t),". Changes will take effect within 24 hours."," ",c.createElement(d.rU,{inline:!0,href:(0,p.Mc)(n),linkStyle:"OBVIOUS"},"Manage all my email settings"))),c.createElement(d.PZ,{onClick:function(){r()},isPositionAbsolute:!1,size:"SMALL"}))}))},h=n(46829),g=n(62630);function w(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return w=function(){return e},e}function v(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!, $shouldRecordConsent: Boolean) {\n    subscribeNewsletterV3(\n      newsletterV3Id: $newsletterV3Id\n      shouldRecordConsent: $shouldRecordConsent\n    )\n  }\n"]);return v=function(){return e},e}var S=(0,l.Ps)(v()),y=(0,l.Ps)(w()),x=n(66893),V=n(9785),C=n(62181),T=n(27572),I=n(51512),R=n(14391),k=n(88914),N=n(51064),O=n(534);function A(){var e=a()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    type\n    user {\n      name\n    }\n    ...SusiClickable_newsletterV3\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}var L="newsletter_v3_promo",_=(0,l.Ps)(A(),u.JE,C.Os,C.GB,O.Gi),P=function(e){var t=e.newsletterV3,n=e.buttonLayout,r=void 0===n?"MULTI-LINE":n,o=e.helperTextColor,a=void 0===o?"LIGHTER":o,l=e.showHelperText,u=void 0===l||l,w=e.showMailIcon,v=void 0===w||w,A=e.buttonSize,_=void 0===A?"LARGE":A,P=e.buttonStyle,B=void 0===P?"STRONG":P,U=(0,V.YC)().value,M=t.id,z=t.collection?t.collection:void 0,D=t.user?t.user:void 0,$=(0,k.w)(),j=(0,s.v9)((function(e){return{interstitial:e.navigation.interstitial,referrerSource:e.navigation.referrerSource}}),s.wU),W=j.referrerSource,G=j.interstitial,F=(0,s.v9)((function(e){return e.config.productName})),Y=(0,N.O)(!1),H=i()(Y,3),q=H[0],Q=H[1],Z=H[2],K=function(e,t){var n=c.useState(t),r=i()(n,2),o=r[0],a=r[1],l=c.useState(!1),s=i()(l,2),u=s[0],m=s[1],d=c.useState(!1),b=i()(d,2),f=b[0],p=b[1],E=(0,g.Av)();u&&E.event("newsletterV3.subscribe.error",{newsletterV3Id:e});var w=(0,h.useMutation)(S,{variables:{newsletterV3Id:e,shouldRecordConsent:!1},onCompleted:function(e){var t=e.subscribeNewsletterV3;m(!t),t&&a(!0)}}),v=i()(w,1)[0],x=(0,h.useMutation)(y,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.unsubscribeNewsletterV3;m(!t),t&&(a(!1),p(!0))}}),V=i()(x,1)[0];return{isSubscribed:o,hasUserUnsubscribed:f,hasError:u,setSubscribe:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(!1),p(!1),t?v({variables:{newsletterV3Id:e,shouldRecordConsent:n}}):V()},setHasUserUnsubscribed:p}}(t.id,t.isSubscribed),J=K.isSubscribed,X=K.hasUserUnsubscribed,ee=K.hasError,te=K.setSubscribe,ne=K.setHasUserUnsubscribed;c.useEffect((function(){"unsubscribe-newsletter"===G&&ne(!0)}),[]),c.useEffect((function(){if(W){var e=(0,I.P7)(W||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&J&&$({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==t?void 0:t.name,unsubscribeFn:function(){return te(!1)}}})}}),[W]);var re,ie,oe,ae=function(e){var t=e.children;return c.createElement(d.xu,{margin:"COMPACT"===r?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},le=function(e){var t=e.children;return c.createElement(d.xu,{maxWidth:"COMPACT"===r?"380px":"",margin:"COMPACT"===r?"10px 0 10px 0":"10px 0 0 0"},c.createElement(f.F,{scale:"S",color:a,tag:"p"},t))};switch(t.type){case R.Rr.NEWSLETTER_TYPE_COLLECTION:re=t.name,ie="You’re signed up for ".concat(re,"."),oe="Get this newsletter";break;case R.Rr.NEWSLETTER_TYPE_AUTHOR:re=null==D?void 0:D.name,ie="You’re subscribed to ".concat(re),oe="Subscribe"}var ce=function(){var e=(0,p.Zu)(M),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];U&&te(!0,e)},r=(0,x.P5)("enable_subscribe_to_profile")?U&&U.allowEmailAddressSharingEditorWriter:U&&U.allowEmailAddressSharing,i={buttonSize:_,buttonStyle:B,newsletterV3Id:t.id,onClick:r?n:Q,showMailIcon:v,buttonText:oe};return c.createElement(ae,null,U?c.createElement(c.Fragment,null,c.createElement(m.w,i),c.createElement(d.QH,{onConfirm:function(){return n(!0)},isVisible:q,hide:Z,titleText:"Confirm your subscription to ".concat(re),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,titleTag:"h1",contentTag:"p",isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(F,". You can opt out of sharing your email address by unsubscribing in your Settings."))):c.createElement(C.R9,{operation:"register",newsletterV3:t,collection:z,actionUrl:e,susiEntry:L},c.createElement(m.w,i)))},se=function(){return c.createElement(T.cW,{source:{newsletterV3Id:t.id},extendSource:!0},c.createElement(ce,null),U?u&&c.createElement(le,null,"Emails will be sent to ",U.email,".",c.createElement(d.xu,null,c.createElement(C.R9,{operation:"login",newsletterV3:t,collection:z,susiEntry:L},c.createElement(d.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):c.createElement(le,null,"Create a free Medium account to get ",t.name," in your inbox."))},ue=function(){return c.createElement(c.Fragment,null,c.createElement(ae,null,c.createElement(d.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return te(!1)}},"Unsubscribe")),u&&c.createElement(le,null,ie))};return c.createElement(c.Fragment,null,c.createElement(d.Yi,null,(function(e){return c.createElement(d.f6,{theme:(0,O.jN)(z,e)},J?c.createElement(ue,null):c.createElement(se,null))})),ee&&c.createElement(b.Z,{toastStyle:"RETRYABLE_ERROR",isVisible:ee,hide:function(){}}),X&&c.createElement(E,{name:re||""}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>P,Lh:()=>U});var r=n(28655),i=n.n(r),o=n(59713),a=n.n(o),l=n(63038),c=n.n(l),s=n(46829),u=n(71439),m=n(67294),d=n(70561),b=n(34353),f=n(79316),p=n(28309),E={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},h=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},g=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,i=void 0===r?"STRONG":r,o=(0,p.Iq)(),a=function(){var e=(0,p.om)({keyframesName:E}).keyframesName;return m.createElement("div",{className:o(h(e))})};return m.createElement("div",{style:{cursor:"wait"}},m.createElement(f.zx,{buttonStyle:i,onClick:function(){return null},size:n,width:"207px",disabled:!0},m.createElement((function(){return m.createElement(f.xu,null,m.createElement(f.xu,{display:"inline-block",float:"left",marginRight:"8px"},m.createElement(a,null)),m.createElement(f.xu,{float:"left"},"Loading.."))}),null)))},w=n(90738),v=n(14414),S=n(31285),y=n(22484),x=n(80735),V=n(62630),C=n(27572),T=n(37581),I=n(49456),R=n(51299),k=n(27952),N=n(534);function O(){var e=i()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function A(){var e=i()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return A=function(){return e},e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=(0,p.Fg)(),o=(0,C.pK)(),a=(0,C.hp)(),l=(0,V.Av)(),u=(0,d.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,productName:e.config.productName}}),d.wU),E=u.authDomain,h=u.currentLocation,O=u.productName,A=m.useState(""),L=c()(A,2),P=L[0],U=L[1],M=m.useState(""),z=c()(M,2),D=z[0],$=z[1],j=m.useState(!1),W=c()(j,2),G=W[0],F=W[1],Y=m.useState(!1),H=c()(Y,2),q=H[0],Q=H[1],Z=m.useState(!1),K=c()(Z,2),J=K[0],X=K[1],ee=m.useState(!1),te=c()(ee,2),ne=te[0],re=te[1],ie=m.useState(""),oe=c()(ie,2),ae=oe[0],le=oe[1],ce="register",se=null==h.match("http[s]?://[^/]*".concat(E)),ue=r.collection,me=r.id,de=r.slug,be=(0,k.Zu)(me),fe=ue?(0,k.iB)(de,E,ue):h;(0,s.useQuery)(S.qz,{fetchPolicy:"no-cache",skip:!be||se,onCompleted:function(e){var t=e.accountToken;return t&&le((0,v.hQ)(fe,o,a,be,t))}});var pe=function(e){U(e),F(!0),setTimeout((function(){return F(!1)}),y.zn),Q(!1),X(!1)},Ee=function(){(0,I.J)(D)?(X(!0),Q(!0)):pe("Enter a valid email address.")},he=function(){pe("We couldn't process your request. Try again, or contact our support team.")},ge=(0,s.useMutation)(B,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":$(D),re(!0);break;case"BadRequest":pe("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:he()}},onError:he}),we=c()(ge,1)[0],ve={newsletterV3Id:me,email:D,operation:ce,redirect:ae},Se=(0,R.U)();return m.useEffect((function(){l.event("experiment.eligible",{experimentId:"c19291e389a6"})}),[]),m.createElement(f.f6,{theme:(0,N.jN)(ue,i)},m.createElement(f.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},m.createElement(w.k,{callback:function(e){we({variables:_({captchaValue:e},ve)})},shouldExecuteRecaptcha:q}),m.createElement(f.xu,{display:ne?"none":"inline"},m.createElement(f.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},m.createElement(f.xu,{marginTop:P&&"25px",sm:{marginTop:"0"}},m.createElement(y.II,{errorMessage:P,handleInputChange:function(e){$(e.target.value.trim())},handleSubmit:Ee,input:D,inputType:y.n$.EMAIL,isAnimating:G,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[Se],"px")})),m.createElement(f.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},J?m.createElement(g,{newsletterV3Id:me}):m.createElement(T.$,{eventData:{operation:ce}},m.createElement(b.w,{newsletterV3Id:me,onClick:Ee})))),m.createElement(f.xu,{paddingTop:P&&"20px",marginTop:"10px",sm:{marginTop:"0"}},m.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",O," account if you don’t already have one. Review our"," ",m.createElement(f.rU,{href:(0,k.wo)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),m.createElement(f.xu,{display:ne?"inline":"none",marginBottom:"15px",marginTop:"5px"},m.createElement(x.F,{color:"DARKER",scale:"M"},m.createElement("b",null,"Check your inbox"),m.createElement("br",null),O," sent you an email at ",D," to complete your subscription."))))},B=(0,u.Ps)(A()),U=(0,u.Ps)(O(),N.Gi,k.nf)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),i=n.n(r),o=n(67294),a=n(28309),l=n(36808),c=function(){var e=(0,a.Fg)(),t=o.useState("lg"),n=i()(t,2),r=n[0],c=n[1],s=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return o.useEffect((function(){return s(),l.V6.on("resize",s),function(){return l.V6.off("resize",s)}}),[]),r}}}]);
//# sourceMappingURL=2399.34a4c9e2.chunk.js.map