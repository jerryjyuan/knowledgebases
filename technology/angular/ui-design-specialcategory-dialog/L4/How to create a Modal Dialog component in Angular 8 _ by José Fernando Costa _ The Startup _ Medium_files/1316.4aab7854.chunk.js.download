(self.webpackChunklite=self.webpackChunklite||[]).push([[1316],{33336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},o().createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),l=o().createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const s=function(e){return o().createElement("svg",i({width:21,height:21},e),a,l)}},81162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("g",{fillRule:"evenodd"},o().createElement("path",{d:"M6.93 15.34l-2.06-2.06c-2.16-2.16-3.53-3.15-2.9-3.79.33-.32.8-.39 1.2 0l2.13 2.2c.08.08.16.07.38.13.21.05.36-.05.54-.23.17-.16.07-.6-.09-.77L3.5 8.2c-.37-.36-.5-1-.1-1.39.37-.37.8-.19 1.14.15.39.38 2.7 2.76 2.7 2.76a.42.42 0 0 0 .3.13.54.54 0 0 0 .33-.16c.17-.16.25-.46.09-.63 0 0-1.34-1.4-1.82-1.88-.71-.72-.77-1.22-.46-1.54.45-.44 1.05-.3 1.86.62l3.58 3.89-.75-1.95s-.47-1.25 0-1.5.84.4 1.17.9l1.86 3.34c1.01 1.65.69 3.8-.73 5.19-1.87 1.87-4.07.87-5.73-.78zM10.26.04H8.73l.77 3.3zM13.93 1.2L12.5.7l-.4 3.36zM6.5.57l-1.44.52L6.9 3.93z"}),o().createElement("path",{d:"M14.3 7.03c-.34-.5-.9-.52-1.25-.24-.25.19-.21.6-.2.9l1.51 2.64c1.17 1.9 1.33 3.66 0 5.45.4-.19.52-.23.9-.61 1.52-1.52 1.86-3.32.85-4.96l-1.8-3.18z"}));const l=function(e){return o().createElement("svg",i({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},53690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const l=function(e){return o().createElement("svg",i({width:21,height:21},e),a)}},78271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const l=function(e){return o().createElement("svg",i({width:21,height:21},e),a)}},50344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const l=function(e){return o().createElement("svg",i({width:21,height:21},e),a)}},8969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const l=function(e){return o().createElement("svg",i({width:21,height:21},e),a)}},45957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("g",{fillRule:"evenodd"},o().createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),o().createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const l=function(e){return o().createElement("svg",i({width:21,height:21},e),a)}},14349:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=o().createElement("path",{d:"M16.19 9.42c0 1.67-.72 2.84-2.03 4l-.1.09v.13a4.3 4.3 0 0 0 .15.85c.17.6.46 1.2.86 1.8a4.94 4.94 0 0 1-2.46-.84c-.26-.17-.33-.2-.54-.4l-.13-.12-.16.05c-.68.2-2.75.46-4.88-.16a5.9 5.9 0 0 1-4.1-5.4c0-3.37 3-6.12 6.7-6.12s6.69 2.75 6.69 6.12z",fillRule:"evenodd"});const l=function(e){return o().createElement("svg",i({width:19,height:19,viewBox:"0 0 19 19"},e),a)}},58864:(e,t,n)=>{"use strict";n.d(t,{y:()=>W,i:()=>z});var r=n(28655),o=n.n(r),i=n(63038),a=n.n(i),l=n(59713),s=n.n(l),c=n(71439),u=n(67294),m=n.n(u),d=n(79316),p=n(80735),f=n(28309),g={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},v={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},E=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},h=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function x(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}var b=function(e){var t=e.duration,n=e.elapsed,r=e.isProgressBeanVisible,o=e.onEnter,i=e.onLeave,a=e.onProgressBeanAnimationEnd,l=e.onTimeUpdate,s=e.shouldProgressBeanAnimate,c=(0,f.Iq)(),m=(0,f.om)({fadeInKeyframesName:g,fadeOutKeyframesName:v}),b=m.fadeInKeyframesName,y=m.fadeOutKeyframesName,P=u.useRef(null),_=n&&t?Math.max(0,Math.min(n/t*100,100)):0,w={left:"".concat(_,"%"),opacity:r?1:0},S=u.useCallback((function(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}),[t]),C=u.useCallback((function(e){function t(e){l(S(e))}0===e.button&&(l(S(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})))}),[S,i,l]),I=u.useCallback((function(e){"ArrowLeft"===e.key?l(Math.max(n-5,0)):"ArrowRight"===e.key&&l(Math.min(n+5,t))}),[n,t,l]),O=u.useCallback((function(){document.activeElement!==P.current&&i()}),[null==P?void 0:P.current,i]),L=[h,w];return s&&L.push({animation:"".concat(r?b:y," .2s ease-in-out forwards")}),u.createElement(d.xu,{display:"flex",alignItems:"center"},u.createElement(d.xu,{width:"28px",marginRight:"12px",textAlign:"left"},u.createElement(p.F,{scale:"M"},n?x(n):"--:--")),u.createElement("div",{className:c([E,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(_,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:P,"aria-valuemin":0,"aria-valuemax":t,"aria-valuenow":n,tabIndex:0,onMouseDown:C,onFocus:o,onBlur:O,onKeyDown:I,onMouseEnter:o,onMouseLeave:O},u.createElement("div",{className:c(L),onAnimationEnd:a})),u.createElement(d.xu,{width:"28px",marginLeft:"12px",textAlign:"right"},u.createElement(p.F,{scale:"M"},t?x(t):"--:--")))},y=n(62630);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=m().createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},m().createElement("rect",{width:6,height:17,rx:2}),m().createElement("rect",{x:9,width:6,height:17,rx:2}));const w=function(e){return m().createElement("svg",P({width:25,height:25},e),_)};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=m().createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const I=function(e){return m().createElement("svg",S({width:25,height:25},e),C)};var O=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},L=function(e){var t=e.dispatch,n=e.postId,r=e.isPlaying,o=(0,f.Iq)(),i=(0,y.Av)(),a=u.useCallback((function(){var e=document.getElementById("audio-player");r?(i.event("audio.end",{postId:n}),e.pause(),t({type:"pause"})):(i.event("audio.start",{postId:n}),e.play(),t({type:"play"}))}),[r]);return u.createElement("button",{onClick:a,className:o(O)},r?u.createElement(w,null):u.createElement(I,null))},R=n(24087),T=n(62876),k=n(27572),B=n(96907),A=n(33336);function D(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return D=function(){return e},e}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={duration:0,elapsed:0,playing:!1},j=function(e,t){switch(t.type){case"load":return F({},e,{duration:t.duration});case"play":return F({},e,{playing:!0});case"pause":return F({},e,{playing:!1});case"seek":return F({},e,{elapsed:t.clickedTime});case"progress":return F({},e,{elapsed:t.elapsed});case"end":return F({},e,{playing:!1});default:return e}},U=function(e){var t=e.postId,n=e.audioVersionUrl,r=u.useReducer(j,N),o=a()(r,2),i=o[0],l=o[1],s=i.duration,c=i.elapsed,m=i.playing,f=u.useState(!1),g=a()(f,2),v=g[0],E=g[1],h=u.useState(!1),x=a()(h,2),y=x[0],P=x[1],_=u.useCallback((function(){E((function(e){return P(!!e),!1}))}),[]),w=u.useCallback((function(){E((function(e){return P(!e),!0}))}),[]);return u.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),u.useEffect((function(){var e=document.getElementById("audio-player");Math.round(c)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=c)}),[c]),u.createElement(d.xu,{display:"flex",justifyContent:"center",margin:"20px 0"},u.createElement("audio",{id:"audio-player"},u.createElement("source",{src:n})),u.createElement(d.xu,{display:"flex",alignItems:"center",flexGrow:"1"},u.createElement(d.xu,{marginRight:"16px"},u.createElement(L,{dispatch:l,postId:t,isPlaying:m})),u.createElement(d.xu,{display:"flex",flexDirection:"column",flexGrow:"1"},u.createElement(p.F,{scale:"M",color:"DARKER"},"Listen to this story"),u.createElement(b,{elapsed:c,duration:s,isProgressBeanVisible:v,onEnter:w,onLeave:_,onProgressBeanAnimationEnd:function(){return P(!1)},onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,s))})},shouldProgressBeanAnimate:y}))))},V=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},H=function(e){var t=e.post,n=(0,f.Iq)();return u.createElement(d.MI,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},u.createElement(A.Z,{className:n(V)}),u.createElement(p.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... there’s an audio version of this story."," ",u.createElement(T.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function W(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return u.createElement(d.xu,{marginTop:"30px"},u.createElement(R.Z,null,(function(e){return e&&e.mediumMemberAt||!o?u.createElement(U,{postId:n,audioVersionUrl:r}):u.createElement(k.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},u.createElement(B.M,null,u.createElement(H,{post:t})))})))}var z=(0,c.Ps)(D(),T.H)},56825:(e,t,n)=>{"use strict";n.d(t,{I:()=>d});var r=n(59713),o=n.n(r),i=n(67294),a=n(34904),l=n(79316),s=n(80735),c=n(28309),u=n(80637),m=n(67122),d=function(e){var t=e.children,n=e.scale,r=void 0===n?a.C.L:n,d=(0,c.Iq)();return i.createElement("div",{className:d((function(e){return o()({background:(0,m.Uy)(.05),borderRadius:"4px",margin:"24px -16px",position:"relative"},u.sm(e),{margin:"24px -12px 0"})}))},i.createElement(l.xu,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:"16px",sm:{padding:"12px"}},i.createElement(s.F,{scale:r,color:"DARKER"},t)))}},34904:(e,t,n)=>{"use strict";n.d(t,{C:()=>r,p:()=>l});var r,o=n(67294),i=n(79316),a=n(80735);!function(e){e.S="S",e.L="L"}(r||(r={}));var l=function(e){var t=e.children,n=e.scale,l=void 0===n?r.L:n;return o.createElement(i.xu,{margin:"40px 0",sm:{margin:"36px 0"}},o.createElement(a.F,{scale:l},t))}},87392:(e,t,n)=>{"use strict";n.d(t,{rh:()=>Z,dc:()=>Y,Wc:()=>G});var r=n(28655),o=n.n(r),i=n(50008),a=n.n(i),l=n(63038),s=n.n(l),c=n(46829),u=n(71439),m=n(67294),d=n(70561),p=n(67154),f=n.n(p),g=n(23450),v=n.n(g),E=n(56825),h=n(51562),x=n(79316),b=function(e){var t=e.featureString,n=e.link,r=e.text,o=e.showTrialMeter;return m.createElement(h.W,{featureString:t,target:o?"cc-trial-highlight-box":"highlight-box"},m.createElement(E.I,null,m.createElement(h.W,{featureString:t,target:o?"cc-trial-copy":"copy",tag:"span"},r," "),m.createElement(x.xu,{display:"inline",whiteSpace:"nowrap"},m.createElement(h.W,{featureString:t,target:o?"cc-trial-link":"link",tag:"span"},n))))},y=n(66893),P=n(9785),_=n(5731),w=n(62876),S=n(62630),C=n(27572),I=n(96907),O=n(27952);function L(){var e=o()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return L=function(){return e},e}var R=function(e,t,n){return e<=0?m.createElement(m.Fragment,null,"This is your ",m.createElement("b",null,"last")," free ",(t||n)&&"member-only"," story this month."):m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,e)," free ",(t||n)&&"member-only"," ",v()("story",e)," left this month.")},T=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=(0,d.v9)((function(e){return e.config.productName})),i=(0,P.YC)().value,a=(0,S.Av)(),l=null==i?void 0:i.isMembershipTrialEligible,s=!(!(0,y.P5)("enable_trial_upsell")||!l),c=!!(0,y.P5)("enable_unbound"),u="li-highlight-meter-".concat(t);m.useEffect((function(){a.event("meter.viewed",{uiType:_.j.LIHighlightCTA,postId:r.id,meterCount:t,userId:null==i?void 0:i.id}),l&&a.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var p=(0,d.v9)((function(e){return{authDomain:e.config.authDomain}})).authDomain,g=m.createElement(I.M,{tag:"span"},m.createElement(w.a,f()({linkStyle:"OBVIOUS",post:r,inline:!!c},s&&{redirectUrl:(0,O.c5)(p)}),s?"Start your free trial":c?"See the benefits of ".concat(o," membership"):"Upgrade for unlimited access."));return m.createElement(C.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:r.id}},m.createElement(b,{featureString:u,text:R(n-t,s,c),link:g,showTrialMeter:s}))},k=(0,u.Ps)(L(),w.H),B=n(62181);function A(){var e=o()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return A=function(){return e},e}var D=function(e,t){switch(e){case 1:return t?m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"2")," free member-only stories left this month."):m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"2")," free stories left this month.");case 2:return t?m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"1")," free member-only story left this month."):m.createElement(m.Fragment,null,"You have ",m.createElement("b",null,"1")," free story left this month.");case 3:return t?m.createElement(m.Fragment,null,"This is your ",m.createElement("b",null,"last")," free member-only story this month."):m.createElement(m.Fragment,null,"This is your ",m.createElement("b",null,"last")," free story this month.");default:return t?m.createElement(m.Fragment,null,"You've read all your free member-only stories this month."):m.createElement(m.Fragment,null,"You've read all your free stories this month.")}},M=function(e){var t=e.meterCount,n=e.post,r=(0,d.v9)((function(e){return e.config.productName})),o=!!(0,y.P5)("enable_unbound"),i=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(t),a=(0,S.Av)(),l="lo-highlight-meter-".concat(t);m.useEffect((function(){a.event("meter.viewed",{uiType:_.j.LOHighlightCTA,postId:n.id,meterCount:t})}),[]);var s=m.createElement(B.R9,{linkStyle:"OBVIOUS",inline:!!o,operation:"register",susiEntry:i},o?"Sign up for ".concat(r," and get an extra one"):"Sign up and get an extra one for free.");return m.createElement(C.cW,{source:{postId:n.id}},m.createElement(b,{featureString:l,text:D(t,o),link:s,showTrialMeter:!1}))},F=(0,u.Ps)(A()),N=n(93125),j=n(24087),U=n(31285),V=n(11348),H=n(28958);function W(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return W=function(){return e},e}function z(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}var q=function(e){var t=e.meteringInfo,n=e.post,r=e.viewer,o=m.useState(!1),i=s()(o,2),a=i[0],l=i[1],c=t.maxUnlockCount||3,u=t.postIds.length;return u<=c?(0,V.sy)()&&(0,N.Dk)(r)?((0,V.Of)(),null):(a||l(!0),m.createElement(T,{meterCount:u,post:n,meterLimit:c})):null},$=function(e){var t=e.meterCount,n=e.post,r=m.useState(!1),o=s()(r,2),i=o[0],a=o[1];switch(t){case 1:case 2:case 3:return i||a(!0),m.createElement(M,{meterCount:t,post:n});default:return null}},Z=function(e){var t=e.meteringInfo,n=e.post,r=(0,d.I0)(),o=m.useState(!1),i=s()(o,2),l=i[0],u=i[1];m.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":a()(document))&&u(!0),r((0,H.Dl)(!1))}),[]);var p=(0,c.useQuery)(j.e),f=p.loading,g=p.error,v=p.data,E=(v=void 0===v?{viewer:void 0}:v).viewer;if(f||g)return m.createElement(m.Fragment,null);var h=E&&E.mediumMemberAt||void 0,x=n&&n.creator&&n.creator.id||void 0,b=E&&E.id||void 0,y=E?h||x===b:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,P=!l||!n.isLocked||!t.postIds.includes(n.id)||y,_=E?m.createElement(q,{meteringInfo:t,post:n,viewer:E}):m.createElement($,{meterCount:t.postIds.length,post:n});return m.createElement(m.Fragment,null,!P&&_)},G=(0,u.Ps)(z(),k,F,U.qt),Y=(0,u.Ps)(W())},6742:(e,t,n)=>{"use strict";n.d(t,{e0:()=>w,Rf:()=>S,Xw:()=>I});var r=n(59713),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),s=n(67294),c=n(70561),u=n(11675),m=n(55346),d=n(9785),p=n(79316),f=n(80735),g=n(62630),v=n(27572),E=n(28309),h=n(36808),x=n(14391),b=n(80637),y=n(27952);function P(){var e=a()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      viewerIsEditor\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return P=function(){return e},e}function _(){var e=a()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}var w=(0,l.Ps)(_(),u.B,m.Lh),S=(0,l.Ps)(P(),w),C=function(e){return o()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},b.sm(e),{padding:"24px 24px 28px 24px"})},I=function(e){var t,n,r,o,i,a=e.postId,l=e.publisher,b=s.useRef(null),P=(0,c.v9)((function(e){return e.config.authDomain})),_=(0,g.Av)(),w=(0,E.Iq)(),S=(0,d.YC)().value,I=l.newsletterV3,O=null==I?void 0:I.type,L=l.username,R=void 0===L?"":L,T=(0,y.iB)(null!==(t=null==I?void 0:I.slug)&&void 0!==t?t:"",P,O===x.Rr.NEWSLETTER_TYPE_COLLECTION?l:void 0,O===x.Rr.NEWSLETTER_TYPE_AUTHOR&&R?R:void 0);switch(O){case x.Rr.NEWSLETTER_TYPE_COLLECTION:n="Sign up for ".concat(null==I?void 0:I.name),r="0px",o="You're an editor of ".concat(null==I?void 0:I.name),i=l.viewerIsEditor;break;case x.Rr.NEWSLETTER_TYPE_AUTHOR:n="Get ".concat(l.name,"'s stories in your inbox"),r="6px",o="You cannot subscribe to yourself",i=l.viewerIsUser}var k=!1,B=function(){!k&&A()&&(_.event("newsletterV3.promoViewed",{newsletterV3Id:null==I?void 0:I.id,postId:a}),k=!0)},A=function(){var e;if(!b.current)return!1;var t=null===(e=b.current)||void 0===e?void 0:e.getBoundingClientRect(),n=t.top+t.height/2;return n>=0&&n<=window.innerHeight};return s.useEffect((function(){return B(),window&&h.V6.on("scroll",B),function(){h.V6.off("scroll",B)}}),[]),s.createElement(v.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},s.createElement("div",{ref:b,className:w(C)},s.createElement(p.xu,{paddingBottom:r},s.createElement(f.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n)),O===x.Rr.NEWSLETTER_TYPE_COLLECTION&&s.createElement(s.Fragment,null,s.createElement(p.xu,{paddingTop:"4px"},s.createElement(f.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(l.name))),s.createElement(p.xu,{paddingTop:"8px",paddingBottom:"10px"},s.createElement(f.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"p"},null==I?void 0:I.description," ",s.createElement(p.rU,{inline:!0,linkStyle:"OBVIOUS",href:T},"Take a look")))),i?s.createElement(p.xu,{paddingTop:"10px"},s.createElement(f.F,{scale:"M",color:"DARKER"},o)):s.createElement(p.xu,{display:"flex",flexWrap:"wrap"},I&&(S?s.createElement(u.x,{newsletterV3:I,buttonLayout:"COMPACT",helperTextColor:"DARKER"}):s.createElement(m.QL,{newsletterV3:I})))))}},25448:(e,t,n)=>{"use strict";n.d(t,{PY:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(70561),s=n(10515),c=n(27572),u=n(28309),m=n(81952);function d(){var e=o()(["\n  fragment EmbeddedPost_post on Post {\n    id\n    tags {\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n  }\n"]);return d=function(){return e},e}(0,i.Ps)(d());var p=(0,l.$j)((function(e){return{embedPostRules:e.config.embedPostRules}}))((function(e){var t=e.postId,n=e.sourcePost,r=e.embedPostRules,o=t||n&&function(e,t){var n;return e?(t.map((function(t){var r,o;return n||(((null===(r=e.topics)||void 0===r?void 0:r.some((function(e){var n,r;return!!(null==t||null===(n=t.topics)||void 0===n?void 0:n.includes((null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||""))})))||(null===(o=e.tags)||void 0===o?void 0:o.some((function(e){var n,r;return!!(null==t||null===(n=t.tags)||void 0===n?void 0:n.includes((null==e||null===(r=e.id)||void 0===r?void 0:r.toLowerCase())||""))}))))&&(n=t.embedPostId),n)})),n):n}(n,r);return o?a.createElement(m.T,{postId:o},(function(e){var t=(0,u.Iq)();return e?a.createElement(s.M.Provider,{value:!0},a.createElement(c.cW,{source:{name:"embedded_post"}},a.createElement("div",{className:t({padding:{xs:"16px 0",sm:"16px 0",md:"18px 0",lg:"24px 0",xl:"32px 0"},marginBottom:"25px"})},e))):null})):null}))},35002:(e,t,n)=>{"use strict";n.d(t,{vN:()=>s});var r=n(28655),o=n.n(r),i=(n(63038),n(71439));function a(){var e=o()(["\n  mutation PostPaywallAlertMutation($postId: ID!) {\n    dismissDistributionAlert(postId: $postId)\n  }\n"]);return a=function(){return e},e}function l(){var e=o()(["\n  fragment PostPaywallAlert_post on Post {\n    id\n    visibility\n    lockedSource\n    curationEligibleAt\n    collection {\n      isEnrolledInHightower\n      isAuroraVisible\n      viewerIsEditor\n    }\n    creator {\n      id\n      isPartnerProgramEnrolled\n    }\n    isDistributionAlertDismissed\n  }\n"]);return l=function(){return e},e}n(67294),n(24087),n(79316),n(62240),n(27952);var s=(0,i.Ps)(l());(0,i.Ps)(a())},62182:(e,t,n)=>{"use strict";n.d(t,{p3:()=>U,Yi:()=>z,uI:()=>q});var r=n(28655),o=n.n(r),i=n(50008),a=n.n(i),l=n(63038),s=n.n(l),c=n(59713),u=n.n(c),m=n(71439),d=n(67294),p=n(70561),f=n(28859),g=n(84783),v=n(22669),E=n(43689),h=n(50493),x=n(88065),b=n(47713),y=n(29355),P=n(49925),_=n(93125),w=n(79956),S=n(66893),C=n(51684),I=n(31001),O=n(79316),L=n(80735),R=n(30269),T=n(27572),k=n(28309),B=n(89349),A=n(21146),D=n(27952);function M(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n    }\n    creator {\n      bio\n      name\n      username\n      hasDomain\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...UserFollowButton_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function F(){var e=o()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return F=function(){return e},e}var N={wordBreak:"break-word"},j=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(E.Je,"px + 54px + 14px)")},u()(t,(0,B.nk)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},U=d.forwardRef((function(e,t){var n,r=e.isClearOfBounds,o=e.isOnPage,i=e.post,l=e.setIsResponsesSidebarVisible,c=(0,p.v9)((function(e){return e.navigation.currentLocation})),u=(0,k.Iq)(),m=d.useContext(f.u6).watchedBounds,g=d.useState(o||!1),v=s()(g,2),E=v[0],x=v[1],I=d.useState(r||!1),L=s()(I,2),R=L[0],B=L[1],D=d.useRef(null),M=d.useRef(null),F=!!(0,S.gc)("enable_post_table_of_contents").value,N=d.useRef(null),U=i.collection;d.useEffect(W(m,x),[m]);var z=d.useCallback(function(e,t,n,r,o){return function(){if(e.current){var i=t.current,a=["image","bgimage","footer","byline","title","header"],l=(0,C.b2)(e,n,a,o),s=!i||(0,C.b2)(t,n,a,o);r(l&&s)}}}(D,M,m,B,{threshold:10}),[m,B]);d.useEffect((function(){z()}),[]);var q="object"===a()(t)?t:null;d.useEffect((0,C.hE)(z,null==q?void 0:q.current),[z,null==q?void 0:q.current]);var $=R&&E,Z=(0,P.GT)(U||i.creator)?d.createElement(H,{post:i}):U&&d.createElement(V,{post:i,currentLocation:c}),G=function(e,t,n){var r,o,i,a,l=null===(r=e.get("byline"))||void 0===r||null===(o=r.ref)||void 0===o?void 0:o.current,s=null===(i=e.get("ghost-track"))||void 0===i||null===(a=i.ref)||void 0===a?void 0:a.current,c=s&&(0,A.L6)(s).top+window.scrollY-window.innerHeight||0;if(l&&s){var u=l.offsetTop+l.offsetHeight+(n?10:40);return u-c}}(m,0,F);return d.createElement(T.cW,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},d.createElement(C.HX,{testId:"post-sidebar",isFixed:!0,scrollableRef:t,sidebarRef:D,topOffset:G,visible:$},i.isShortform?Z:d.createElement(d.Fragment,null,d.createElement("div",{ref:N},Z,d.createElement(O.xu,{display:"flex",marginBottom:"19px",marginLeft:"-3px",paddingTop:"28px"},d.createElement(y.S,{post:i,buttonStyle:"SUBTLE_PADDED",susiEntry:"clap_sidebar",hasDialog:!0})),d.createElement(T.cW,{source:{postId:i.id},extendSource:!0},d.createElement(O.xu,{marginBottom:"19px"},d.createElement(w.h,{responsesCount:null===(n=i.postResponses)||void 0===n?void 0:n.count,location:"sidebar",setIsResponsesSidebarVisible:l,allowResponses:i.allowResponses,postId:i.id,isLimitedState:i.isLimitedState})),d.createElement(b.o,{post:i,susiEntry:"bookmark_sidebar"}))),d.createElement(h.Z,{post:i,mode:"SIDEBAR",heightRef:N}))),d.createElement("div",{className:u(j($)),ref:M},d.createElement(_._U,{postId:i.id,isVisible:$})))})),V=function(e){var t=e.post,n=e.currentLocation,r=(0,k.Iq)(),o=(0,R.n)({name:"heading",scale:"XS"}),i=(0,p.v9)((function(e){return e.config.authDomain})),a=t.collection;if(!a)return null;var l=t.isShortform?"NONE":"BASE_LIGHTER";return d.createElement(O.xu,{paddingBottom:"28px",borderBottom:l},(null==a?void 0:a.name)&&d.createElement(O.rU,{href:(0,D.WG)(a,n,i)},d.createElement("h2",{className:r([o,N])},a.name)),(a.tagline||a.description)&&d.createElement(O.xu,{paddingTop:"2px",paddingBottom:"20px"},d.createElement(L.F,{scale:"M",clamp:6},a.tagline||a.description)),d.createElement(g.Fp,{collection:a,post:t,susiEntry:"follow_sidebar"}))},H=function(e){var t=e.post,n=(0,p.v9)((function(e){return e.config.authDomain})),r=(0,k.Iq)(),o=(0,R.n)({name:"heading",scale:"XS"}),i=t.creator;if(!i||!i.name)return null;var a=d.createElement("h2",{className:r([o,N])},i.name),l=i.username?d.createElement(O.rU,{href:(0,D.AW)(i.username,n,i.hasDomain)},a):a,s=t.isShortform?"NONE":"BASE_LIGHTER";return d.createElement(O.xu,{paddingBottom:"28px",borderBottom:s},d.createElement(L.Lh,{scale:"S"},"Written by"),d.createElement(O.xu,{paddingTop:"5px",paddingBottom:"5px"},l),i.bio&&d.createElement(O.xu,{paddingTop:"2px"},d.createElement(L.F,{scale:"M"},d.createElement(v.Z,{wrapLinks:!0},i.bio))),d.createElement(O.xu,{paddingTop:"14px"},d.createElement(I.Bv,{buttonSize:"SMALL",post:t,user:i,susiEntry:"follow_card"})))},W=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},z=(0,m.Ps)(F(),g.Iq,D.nf),q=(0,m.Ps)(M(),P.C5,z,I.sj,x.z,g.b3,y.x,w.K,I.S$,h.t)},62543:(e,t,n)=>{"use strict";n.d(t,{p:()=>Xt,F9:()=>Kt,ZP:()=>Yt});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(70561),s=n(28859),c=n(6742),u=n(25448),m=n(65340),d=n(79316),p=n(45019),f=n(27572);const g=function(e){var t=e.posts,n=e.sourceName;return t.length?a.createElement(d.xu,{marginTop:"24px",marginBottom:"40px"},a.createElement(d.xu,{borderBottom:"BASE_LIGHTER",marginTop:"24px",marginBottom:"24px",paddingBottom:"16px",sm:{marginTop:"16px",paddingBottom:"12px"}},a.createElement(p.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"More From Medium")),a.createElement(d.T5,{alignItems:"flex-start"},t.map((function(e,t){return a.createElement(d.P4,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:3,xl:3}},a.createElement(d.xu,{paddingBottom:"24px",maxWidth:"500px"},a.createElement(f.cW,{source:{name:n,index:t}},a.createElement(m.Z,{post:e}))))})))):null};function v(){var e=o()(["\n  fragment PostInternalLinks_post on Post {\n    id\n    internalLinks(paging: {limit: 8}) @include(if: $includePostInternalLinks) {\n      items {\n        ... on Post {\n          ...PostRecircItemV2_post\n        }\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var E=(0,i.Ps)(v(),m.D);const h=function(e){var t,n=e.post,r=e.sourceName,o=(null==n||null===(t=n.internalLinks)||void 0===t?void 0:t.items)||[];return o&&0!==o.length?a.createElement(g,{posts:o,sourceName:r}):null};var x=n(66893),b="tierB",y={1:"tierA",2:"tierA",other:"tierA"},P=n(28309),_=a.createContext(!1),w=function(e){var t=(0,P.Iq)();return a.createElement("div",{className:t({padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})},e.children)},S=n(81952),C=((0,l.$j)((function(e){return{embeddedPostIds:e.config.embeddedPostIds}}))((function(e){var t=e.embeddedPostIds,n=null==t?void 0:t.coronavirus;return n?a.createElement(S.T,{postId:n},(function(e){return e?a.createElement(_.Provider,{value:!0},a.createElement(w,null,e)):null})):null})),n(67154)),I=n.n(C),O=n(63038),L=n.n(O),R=n(52054),T=n(46829),k=n(68127),B=n(62630);function A(e){var t=e.posts,n=e.sourceName,r=a.useRef(null),o=(0,B.Av)();return a.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===t.length?null:a.createElement(d.xu,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},a.createElement(d.xu,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},a.createElement(p.X6,{scale:"S"},"More From Medium")),a.createElement(d.T5,{alignItems:"flex-start"},t.map((function(e,t){return a.createElement(d.P4,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},a.createElement(f.cW,{source:{name:n,index:t}},a.createElement(k.Z,{post:e,ref:r})))}))))}function D(e,t){var n=(0,T.useLazyQuery)(e,t),r=L()(n,2),o=r[0],i=r[1];return[a.useCallback((function(e){!i.called&&e.isIntersecting&&o()}),[i]),i]}var M=n(9638),F=n(36808);function N(){var e=o()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return N=function(){return e},e}function j(){var e=o()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return j=function(){return e},e}function U(){var e=o()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return U=function(){return e},e}function V(){var e=o()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...TruncatedPostCard_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n"]);return V=function(){return e},e}var H=(0,i.Ps)(V(),R.Dn,M.Gk),W=(0,i.Ps)(U(),H),z=(0,i.Ps)(j(),H),q=a.forwardRef((function(e,t){var n,r,o,i=e.post,l=e.rootMargin,s=(null===(n=i.collection)||void 0===n?void 0:n.id)||"",c=null===(r=i.creator)||void 0===r?void 0:r.id,u=s||c;if(!u)return null;var m=function(e){var t=e.firstPublishedAt,n=e.pinnedAt;return e.collection?n?"P".concat(n):"L".concat(t):"".concat(t)}(i),d=D(s?W:z,{variables:{id:u,from:m}}),p=L()(d,2),f=p[0],g=p[1],v=g.called,E=g.loading,h=g.error,x=g.data,b=(x=void 0===x?{publisher:void 0}:x).publisher;if((0,F.S1)({onIntersect:f,target:t,disconnect:function(){return v},rootMargin:l},[v]),!v||E||h||!b)return null;var y=null==b||null===(o=b.homepagePostsConnection)||void 0===o?void 0:o.posts;if(!b||!y)return null;var P="Collection"===b.__typename;return a.createElement(a.Fragment,null,y.map((function(e,t){var n={publisher:b,post:e,hideAuthor:!P,isFirst:0===t,includeBottomDivider:t===y.length-1,index:t};return a.createElement(R.Xc,I()({key:e.id},n))})))})),$=a.forwardRef((function(e,t){var n=e.post,r=e.rootMargin,o=a.useState(!1),i=L()(o,2),l=i[0],s=i[1];return l||F.V6.on("load",(function(){return s(!0)})),l?a.createElement(q,{post:n,ref:t,rootMargin:r}):null})),Z=(0,i.Ps)(N());function G(){var e=o()(["\n  query PostRecircQuery(\n    $postId: ID!\n    $includePostRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return G=function(){return e},e}function Y(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    recirc(paging: {limit: $postRecircPaging}) @include(if: $includePostRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...Recirc_post\n        }\n        ... on SuggestedPost {\n          post {\n            __typename\n            ...Recirc_post\n          }\n          postSuggestionReasons {\n            reason\n            users {\n              name\n            }\n            topics {\n              name\n            }\n            collections {\n              name\n            }\n            tags {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function X(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return X=function(){return e},e}var K=(0,i.Ps)(X(),k.X),Q=(0,i.Ps)(Y(),K),J=(0,i.Ps)(G(),Q),ee=a.forwardRef((function(e,t){var n,r,o,i=e.postId,l=e.rootMargin,s=e.recircOptions,c=(null==s||null===(n=s.v1)||void 0===n?void 0:n.limit)||3,u=D(J,{variables:{postId:i,includePostRecirc:!0,postRecircPaging:c},ssr:!1}),m=L()(u,2),d=m[0],p=m[1],f=p.called,g=p.loading,v=p.error,E=p.data;(0,F.S1)({onIntersect:d,target:t,disconnect:function(){return f},rootMargin:l},[f]);var h=null==E||null===(r=E.post)||void 0===r||null===(o=r.recirc)||void 0===o?void 0:o.items;return!f||g||v||!h?null:a.createElement(A,{posts:h,sourceName:"post_recirc"})})),te=a.forwardRef((function(e,t){return a.createElement(ee,I()({},e,{ref:t}))}));const ne=(0,l.$j)((function(e){return{recircOptions:e.config.recircOptions}}),null,null,{forwardRef:!0})(te);var re=n(30269),oe=n(27952);function ie(){var e=o()(["\n  fragment TagList_collection on Collection {\n    id\n    slug\n    domain\n  }\n"]);return ie=function(){return e},e}function ae(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n  }\n"]);return ae=function(){return e},e}var le={padding:0,margin:0},se={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},ce=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function ue(e){var t=e.tags,n=e.collection,r=(0,P.Iq)(),o=(0,l.v9)((function(e){return{authDomain:e.config.authDomain,entityType:e.client.routingEntity.type}})),i=o.authDomain,s=o.entityType,c=(0,re.n)({name:"detail",scale:"S",color:"LIGHTER"});return t?a.createElement("ul",{className:r(le)},t.map((function(e){if(!e.id)return null;var t=n&&!n.domain?(0,oe.p$)(n,e.id,i):(0,oe.HY)(e.id,i,s);return a.createElement("li",{key:e.id,className:r(se)},a.createElement("a",{href:t,className:r([c,ce])},e.displayTitle))}))):null}var me=(0,i.Ps)(ae()),de=(0,i.Ps)(ie()),pe=n(88065),fe=n(47713),ge=n(57131),ve=n(12617),Ee=n(1506),he=n(74871),xe=n(29355),be=n(71542),ye=n(79956),Pe=n(76188),_e=n(55077),we=n(62181),Se=n(51512),Ce=n(61244);function Ie(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButtons_post\n    ...ResponsesIconButton_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ie=function(){return e},e}const Oe=function(e){var t,n=e.post,r=e.setIsResponsesSidebarVisible,o=e.useSocialPopover,i=e.shouldHideResponsesText,l=void 0!==i&&i,s=e.shouldHideClapsText,c=void 0!==s&&s,u=n.isPublished,m=n.content,p=n.creator,f=n.collection,g=(m||{}).isLockedPreviewOnly,v=(0,Ce.k)(),E="clap_footer",h=a.createElement(Se.cW,{source:{name:"post_actions_footer"}},a.createElement(d.xu,{display:"flex",flexDirection:"row"},a.createElement(d.xu,{maxWidth:"155px"},v?a.createElement(a.Fragment,null,a.createElement(be.e,null,a.createElement(xe.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:c,susiEntry:E})),a.createElement(be.s,null,a.createElement(xe.S,{post:n,buttonStyle:"SUBTLE_FOR_DESKTOP",hasDialog:!0,shouldHideClapsText:c,susiEntry:E}))):a.createElement(xe.S,{post:n,buttonStyle:"OBVIOUS",hasDialog:!0,shouldHideClapsText:c,susiEntry:E})),a.createElement(d.xu,{xs:{width:"15px"},sm:{width:"15px"},md:{width:"15px"},lg:{width:"25px"},xl:{width:"25px"}}),a.createElement(Se.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},a.createElement(ye.h,{responsesCount:null===(t=n.postResponses)||void 0===t?void 0:t.count,location:"footer",setIsResponsesSidebarVisible:r,allowResponses:n.allowResponses,postId:n.id,isLimitedState:n.isLimitedState,shouldHideResponsesText:l})))),x=a.createElement(Pe.Z,{name:"enable_disregard_trunc_state_for_footer"},(function(e){return(e||!g)&&h})),b={post:n,source:{name:"post_actions_footer"}};return a.createElement(d.Bn,null,(function(e){var t=e.isVisible,r=e.show;return a.createElement(a.Fragment,null,t&&a.createElement(d.TF,null),a.createElement(d.xu,{display:"flex",justifyContent:"space-between",marginTop:v?"25px":"15px",print:{display:"none"}},x,a.createElement(d.xu,{display:"flex",alignItems:"center"},u&&a.createElement(a.Fragment,null,o?a.createElement(d.xu,{paddingRight:"6px"},a.createElement(ve.$,b)):a.createElement(_e.n,b),a.createElement(d.xu,{flexGrow:"0",paddingRight:"8px"},a.createElement(Se.cW,{source:{name:"post_actions_footer"}},a.createElement(fe.o,{post:n,susiEntry:"bookmark_footer"})))),n&&p&&a.createElement(ge.Z,{creator:p,post:n,collection:f,showLoadingIndicator:r}))))}))};var Le=(0,i.Ps)(Ie(),pe.z,xe.x,we.qU,he.En,Ee.x7,_e.$,ye.K,ge.G,ve.u),Re=n(73882),Te=n(84783),ke=n(24087),Be=n(98281),Ae=n(31001),De=n(93258),Me=n(80735);function Fe(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    showSubscribeToProfilePromo\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...CollectionFollowButton_post\n    ...UserFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Fe=function(){return e},e}var Ne=Be.wC.XL,je=Be.wC.XL+22,Ue="follow_footer",Ve=function(e){var t=e.creator,n=e.post,r=(0,l.v9)((function(e){return e.config.authDomain})),o=t.name,i=t.username,s=t.bio,c=void 0===s?"":s,u=t.id,m=t.isBlocking,p=t.hasDomain,f=n.showSubscribeToProfilePromo;return o&&i?a.createElement(ke.Z,null,(function(e){return a.createElement(d.xu,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ne,"px")},a.createElement(d.xu,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(d.xu,{position:"absolute",sm:{position:"relative",width:"".concat(je,"px")}},a.createElement(Be.ZP,{user:t,scale:"XL",link:!0})),a.createElement(d.xu,{tag:"span"},a.createElement(d.xu,{paddingLeft:"".concat(je,"px"),sm:{paddingLeft:"0"}},a.createElement(Me.Lh,null,"Written by")),a.createElement(d.xu,{paddingLeft:"".concat(je,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(d.xu,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(Me.X6,{scale:"M"},a.createElement(d.rU,{href:(0,oe.AW)(i,r,p)},o||i)),a.createElement(d.xu,{sm:{display:"none"}},e&&m?a.createElement(De.Z,{targetUserId:u}):!f&&a.createElement(Ae.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:Ue})))))),a.createElement(d.xu,{maxWidth:"555px",paddingLeft:"".concat(je,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(d.xu,{maxWidth:"450px"},a.createElement(Me.F,{scale:"L"},c)),a.createElement(d.xu,{display:"none",sm:{display:"block",marginTop:"24px"}},!f&&a.createElement(Ae.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:Ue}))))})):null},He=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,i=t.description,l=void 0===i?"":i;return a.createElement(d.xu,{marginBottom:"32px",position:"relative",minHeight:"".concat(Ne,"px")},a.createElement(d.xu,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},a.createElement(d.xu,{position:"absolute",sm:{position:"relative",width:"".concat(je,"px")}},a.createElement(Re.v,{collection:t,size:Ne,link:!0})),a.createElement(d.xu,{tag:"span"},a.createElement(d.xu,{paddingLeft:"".concat(je,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},a.createElement(d.xu,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},a.createElement(Me.X6,{scale:"M"},a.createElement(d.rU,{href:(0,oe.WG)(t,n)},o)),a.createElement(d.xu,{sm:{display:"none"}},a.createElement(Te.Fp,{collection:t,post:r,susiEntry:Ue})))))),a.createElement(d.xu,{maxWidth:"550px",paddingLeft:"".concat(je,"px"),sm:{display:"block",paddingLeft:"0"}},a.createElement(d.xu,{maxWidth:"450px"},a.createElement(Me.F,{scale:"L"},l)),a.createElement(d.xu,{display:"none",sm:{display:"block",marginTop:"24px"}},a.createElement(Te.Fp,{collection:t,post:r,susiEntry:Ue}))))},We=function(e){var t=e.collection,n=e.creator,r=e.post,o=e.currentLocation,i=(0,l.v9)((function(e){return e.config.authDomain})),s=r.showSubscribeToProfilePromo;return a.createElement(d.xu,{paddingTop:"24px"},n.name&&n.username&&a.createElement(d.xu,{display:"flex",flexDirection:"row"},a.createElement(d.xu,{marginTop:"5px"},a.createElement(Be.ZP,{user:n,scale:"S",link:!0})),a.createElement(d.xu,{marginLeft:"12px"},a.createElement(Me.Lh,{scale:"S"},"Written by"),a.createElement(d.xu,{display:"flex",flexDirection:"row"},a.createElement(Me.X6,{scale:"XS"},a.createElement(d.rU,{href:(0,oe.AW)(n.username,i,n.hasDomain)},n.name||n.username)),a.createElement(d.xu,{marginLeft:"12px"},!s&&a.createElement(Ae.Bv,{buttonSize:"COMPACT",post:r,user:n,susiEntry:Ue}))),a.createElement(d.xu,{paddingTop:"8px"},a.createElement(Me.F,{scale:"M"},n.bio)))),t&&a.createElement(d.xu,{paddingTop:"24px"},a.createElement(d.xu,{display:"flex",flexDirection:"row"},a.createElement(Re.v,{collection:t,size:40,link:!0}),a.createElement(d.xu,{marginLeft:"12px"},a.createElement(d.xu,{display:"flex",flexDirection:"row"},a.createElement(Me.X6,{scale:"XS"},a.createElement(d.rU,{href:(0,oe.WG)(t,o)},t.name)),a.createElement(d.xu,{marginLeft:"12px"},a.createElement(Te.Fp,{collection:t,post:r,buttonSize:"COMPACT",susiEntry:Ue}))),a.createElement(d.xu,{paddingTop:"8px"},a.createElement(Me.F,{scale:"M"},t.description||""))))))},ze=(0,i.Ps)(Fe(),Re.d,Te.Iq,Te.b3,oe.nf,Be.WQ,Ae.S$,Ae.sj);const qe=(0,l.$j)((function(e){return{currentLocation:e.navigation.currentLocation}}))((function(e){var t=e.currentLocation,n=e.post,r=n.creator,o=n.collection,i=!!(0,x.P5)("enable_end_of_post_cleanup");return r?a.createElement(d.xu,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"},sm:{paddingTop:i?"0":"32px"}},a.createElement(d.xu,{sm:{display:i?"none":"block"}},a.createElement(Ve,{creator:r,post:n}),o&&a.createElement(a.Fragment,null,a.createElement(d.xu,{paddingTop:"32px"}),a.createElement(He,{collection:o,currentLocation:t,post:n}))),i&&a.createElement(d.xu,{display:"none",sm:{display:"block"}},a.createElement(We,{post:n,creator:r,collection:o,currentLocation:t}))):null}));var $e=n(49925),Ze=n(9785);function Ge(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    showSubscribeToProfilePromo\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      hasDomain\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ge=function(){return e},e}var Ye="follow_footer",Xe=function(e){var t=e.post,n=t.creator,r=t.collection,o=t.showSubscribeToProfilePromo,i=(0,l.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}})),s=i.authDomain,c=i.currentLocation,u=(0,Ze.YC)().value,m="SMALL",p={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},f="168px",g={display:"flex",justifyContent:"space-between",alignItems:"center"},v=(0,$e.KW)(t.creator),E=r?(0,oe.WG)(r,c,s):(0,oe.AW)((null==n?void 0:n.username)||"",s,(null==n?void 0:n.hasDomain)||!1),h="More from ".concat(r?r.name:null==n?void 0:n.name),x=r?r.description:null==n?void 0:n.bio,b=null;n&&(u&&n.isBlocking?b=a.createElement(De.Z,{buttonSize:m,targetUserId:n.id}):o||(b=a.createElement(Ae.Bv,{buttonSize:m,post:t,user:n,susiEntry:Ye})));var y=r?a.createElement(Te.Fp,{buttonSize:m,collection:r,post:t,susiEntry:Ye}):b;return a.createElement(d.xu,{print:{display:"none"}},(null==n?void 0:n.name)&&(null==n?void 0:n.username)&&!v&&a.createElement(d.xu,{paddingBottom:"30px"},a.createElement(d.Pm,{size:"inset"},a.createElement(d.xu,I()({},g,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),a.createElement(d.xu,null,a.createElement(Me.Lh,{scale:"S"},"Written by"),a.createElement(Me.X6,{scale:p,clamp:1},a.createElement(d.rU,{href:(0,oe.AW)(n.username,s,n.hasDomain)},n.name||n.username))),b),n.bio&&a.createElement(d.xu,{paddingTop:"6px",paddingRight:f},a.createElement(Me.F,{scale:"M"},n.bio)))),(r||v)&&a.createElement(d.xu,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},a.createElement(d.Pm,{size:"inset"},a.createElement(d.xu,g,a.createElement(Me.X6,{scale:p,clamp:1},a.createElement(d.rU,{href:E},h)),y),x&&a.createElement(d.xu,{paddingTop:"5px",paddingRight:f},a.createElement(Me.F,{scale:"M"},x)))))},Ke=(0,i.Ps)(Ge(),Te.Iq,Te.b3,oe.nf,Ae.S$,Ae.sj,$e.C5);function Qe(){var e=o()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return Qe=function(){return e},e}var Je=function(e){var t=e.collection,n=(0,l.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation}}),l.wU),r=n.currentLocation,o=n.authDomain;return a.createElement(a.Fragment,null,(null==t?void 0:t.name)&&a.createElement(d.xu,{maxWidth:"100%",textAlign:"center"},a.createElement(d.zx,{buttonStyle:"STRONG",href:(0,oe.WG)(t,r,o)},"Read more from ",t.name)))},et=(0,i.Ps)(Qe(),oe.nf);function tt(){var e=o()(["\n  fragment PostFooterResponsesButton_post on Post {\n    id\n    responsesCount\n    isLimitedState\n  }\n"]);return tt=function(){return e},e}var nt=(0,i.Ps)(tt());const rt=(0,l.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.authDomain,n=e.post,r=e.setIsResponsesSidebarVisible,o=(0,P.Iq)(),i=(0,B.Av)(),l=(0,f.pK)(),s=n.id,c=n.responsesCount,u=n.isLimitedState,m=c&&c>0,p=(0,Ce.k)(),g=p?"See responses":"See responses (".concat(c||0,")"),v=m?g:"Write the first response";return a.createElement(d.rU,{href:u||p?" ":(0,oe.tU)(t,s),onClick:function(e){return u?function(e){e.preventDefault()}(e):p?(i.event("responses.viewAllClicked",{postId:n.id,source:l}),function(e){e.preventDefault(),r(!0)}(e)):void 0}},a.createElement("span",{className:o((function(e){return{color:e.baseColor.text.light,opacity:u?.25:1,cursor:u?"not-allowed":"pointer"}}))},a.createElement(d.xu,{sm:{display:m?"block":"none"},border:u?"BASE_NORMAL":"ACCENT_NORMAL",borderRadius:"4px",padding:"20px",textAlign:"center"},u?a.createElement(d.$W,{darkTheme:!0,popoverRenderFn:function(){return a.createElement(d.xu,{padding:"8px",whiteSpace:"nowrap"},"This feature is temporarily disabled.")},placement:"top",targetDistance:15},v):a.createElement("span",{className:o((function(e){return{color:e.accentColor.text.normal}}))},v))))}));var ot=n(53690),it=n(78271),at=n(50344),lt=n(8969),st=n(45957),ct=function(e){return{fill:e.baseColor.fill.lighter}};function ut(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var mt=function(e){var t=e.license,n=(0,P.Iq)();return t?a.createElement(d.xu,null,a.createElement(d.xu,{display:"inline-block"},a.createElement(Me.F,{scale:"S"},a.createElement(d.$W,{darkTheme:!0,placement:"top",popoverRenderFn:function(){return a.createElement(d.xu,{width:"300px",padding:"8px"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(ut(e,"title")," license by the author.")}}(t))}},a.createElement(d.rU,{disableSourceParam:!0,href:ut(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),a.createElement(d.xu,{display:"inline-block"},a.createElement(Me.F,{scale:"S"},"CC_40_ZERO"===t&&a.createElement("span",null," by the author."),a.createElement("span",{className:n(ct),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:a.createElement(st.Z,null),CC_40_BY:a.createElement(ot.Z,null),CC_40_BY_ND:a.createElement(a.Fragment,null,a.createElement(ot.Z,null),a.createElement(at.Z,null)),CC_40_BY_SA:a.createElement(a.Fragment,null,a.createElement(ot.Z,null),a.createElement(lt.Z,null)),CC_40_BY_NC:a.createElement(a.Fragment,null,a.createElement(ot.Z,null),a.createElement(it.Z,null)),CC_40_BY_NC_ND:a.createElement(a.Fragment,null,a.createElement(ot.Z,null),a.createElement(it.Z,null),a.createElement(at.Z,null)),CC_40_BY_NC_SA:a.createElement(a.Fragment,null,a.createElement(ot.Z,null),a.createElement(it.Z,null),a.createElement(lt.Z,null)),PUBLIC_DOMAIN:a.createElement(a.Fragment,null)}[e]}(t))))):null},dt=n(59713),pt=n.n(dt),ft=n(80439);function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){pt()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Et(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return Et=function(){return e},e}function ht(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return ht=function(){return e},e}var xt=(0,i.Ps)(ht()),bt=(0,i.Ps)(Et()),yt=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,i=n.creator;return o&&t&&i&&(t.id===i.id||t.id===o.id)?a.createElement(ft.mm,{mutation:xt,optimisticResponse:{setCollaboratorState:!0},update:function(e,t){var o,i=e.readFragment({id:"Post:".concat(n.id),fragment:bt});e.writeFragment({id:"Post:".concat(n.id),fragment:bt,data:vt({},i,{collaborators:(null!==(o=null==i?void 0:i.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?vt({},e,{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&i.id===t.id?"(declined)":a.createElement(a.Fragment,null,"(",a.createElement(d.rU,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},Pt=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},_t=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?a.createElement(ke.Z,null,(function(e){return a.createElement(d.xu,null,a.createElement(Me.F,{scale:"S"},"Thanks to ",n.map((function(o,i){var l=o.user;return l?a.createElement(a.Fragment,{key:o.id},l.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,l)&&a.createElement(a.Fragment,null," ",a.createElement(yt,{viewer:e,post:t,collaborator:o})),a.createElement(Pt,{index:i,total:n.length})):null})),". "))})):null};function wt(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      username\n      hasDomain\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n"]);return wt=function(){return e},e}var St=(0,i.Ps)(wt()),Ct=function(e){var t=e.post,n=(0,l.v9)((function(e){return e.config.authDomain})),r=t.creator;if(!t.translationSourcePost||!r)return null;var o=a.createElement(d.rU,{linkStyle:"SUBTLE",inline:!0,href:(0,oe.jV)(t.translationSourcePost)},"original"),i=a.createElement(d.rU,{linkStyle:"SUBTLE",inline:!0,href:(0,oe.AW)(r.username||"",n,r.hasDomain)},r.name);return a.createElement(d.xu,null,a.createElement(Me.F,{scale:"S"},"Translated from ",o," by ",i,"."))},It=n(78221);function Ot(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return Ot=function(){return e},e}var Lt={textTransform:"uppercase"};function Rt(e){var t=e.sequence,n=(0,P.Iq)();return a.createElement(d.xu,{display:"flex",flexDirection:"column",marginBottom:"56px"},a.createElement(d.xu,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},a.createElement(d.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},a.createElement(It.Z,{sequence:t,width:200,height:265})),a.createElement(d.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},a.createElement(It.Z,{sequence:t,width:180,height:238})),a.createElement(d.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},a.createElement(It.Z,{sequence:t,width:98,height:130})),a.createElement(d.xu,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},a.createElement("div",{className:n(Lt)},a.createElement(Me.Lh,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&a.createElement(d.P3,{href:(0,oe.Qd)(t.slug)},a.createElement(d.xu,null,a.createElement(Me.Dx,{scale:"L"},t.title))),t.description&&a.createElement(d.xu,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},a.createElement(Me.F,{scale:"L"},t.description)))),t.description&&a.createElement(d.xu,{display:"none",marginTop:"29px",xs:{display:"block"}},a.createElement(Me.F,{scale:"M"},t.description)))}var Tt=(0,i.Ps)(Ot(),It.U);function kt(){var e=o()(["\n  query SequencePostRecircQuery(\n    $postId: ID!\n    $includeSequenceRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...SequencePostRecirc_post\n    }\n  }\n  ","\n"]);return kt=function(){return e},e}function Bt(){var e=o()(["\n  fragment SequencePostRecirc_post on Post {\n    elevateRecirc(paging: {limit: $postRecircPaging}) @include(if: $includeSequenceRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...PostListingItemRecirc_post\n        }\n      }\n    }\n  }\n  ","\n"]);return Bt=function(){return e},e}var At=(0,i.Ps)(Bt(),k.X),Dt=(0,i.Ps)(kt(),At),Mt=a.forwardRef((function(e,t){var n,r,o,i=e.postId,l=e.rootMargin,s=e.recircOptions,c=(null==s||null===(n=s.v1)||void 0===n?void 0:n.limit)||3,u=D(Dt,{variables:{postId:i,includeSequenceRecirc:!0,postRecircPaging:c},ssr:!1}),m=L()(u,2),d=m[0],p=m[1],f=p.called,g=p.loading,v=p.error,E=p.data;(0,F.S1)({onIntersect:d,target:t,disconnect:function(){return f},rootMargin:l},[f]);var h=null==E||null===(r=E.post)||void 0===r||null===(o=r.elevateRecirc)||void 0===o?void 0:o.items;return!f||g||v||!h?null:a.createElement(A,{posts:h,sourceName:"elevate_recirc"})})),Ft=a.forwardRef((function(e,t){return a.createElement(Mt,I()({},e,{ref:t}))}));const Nt=(0,l.$j)((function(e){return{recircOptions:e.config.recircOptions}}),null,null,{forwardRef:!0})(Ft);var jt=n(89714),Ut=n(59877),Vt=n(41331),Ht=n(67122),Wt=n(60410),zt=n(42440),qt=n(19307);function $t(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    layerCake\n    newsletterId\n    collection {\n      viewerIsEditor\n      newsletterV3 {\n        isSubscribed\n        showPromo\n      }\n      ...auroraHooks_publisher\n      ...NewsletterV3Promo_publisher\n      ...PostFooter_collection\n      ...TagList_collection\n    }\n    creator {\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n      viewerIsUser\n      ...auroraHooks_publisher\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      id\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n    viewerClapCount\n    showSubscribeToProfilePromo\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterBylineAurora_post\n    ...PostFooterResponsesButton_post\n    ...PostInternalLinks_post\n    ...PostNextFiveStories_post\n    ...PostRecirc_post\n    ...SequencePostRecirc_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return $t=function(){return e},e}function Zt(){var e=o()(["\n  fragment PostFooter_collection on Collection {\n    name\n    description\n    ...PostFooterCollectionButton_collection\n  }\n  ","\n"]);return Zt=function(){return e},e}var Gt=function(e){return{color:e.baseColor.text.normal}};const Yt=(0,l.$j)((function(e){return{clapsPerPost:e.multiVote.clapsPerPost,isAmp:e.config.isAmp,embeddedPostIds:e.config.embeddedPostIds}}),{})((function(e){var t=e.post,n=e.isAmp,r=e.setIsResponsesSidebarVisible,o=e.embeddedPostIds,i=e.hideRecirc,m=t.id,p=t.layerCake,f=t.tags,g=t.topics,v=t.sequence,E=t.visibility,_=t.isPublished,w=t.allowResponses,S=t.collection,C=t.creator,I=t.showSubscribeToProfilePromo,O=a.useRef(null),L=a.useRef(null),R="0px 0px 2000px 0px",T=(0,P.Iq)(),k=a.useContext(s.u6),B=(0,x.P5)("enable_aurora_recirc"),A=(0,qt.o)()||n,D=function(e,t,n,r){var o=function(e){var t=e.tags,n=void 0===t?[]:t,r=e.topics,o=void 0===r?[]:r,i=e.tier,a=e.flag,s=e.isLocked,c=e.isTopicPage,u=e.postId,m=e.postPublishDate,d=Boolean((0,x.P5)(a)),p=Boolean((0,x.P5)("enable_unbound")),f=(0,l.v9)((function(e){return{sharedCdcMessaging:e.config.sharedCdcMessaging}}),l.wU).sharedCdcMessaging,g=f.COVID_APPLICABLE_TAG_SLUGS,v=f.COVID_APPLICABLE_TOPIC_NAMES,E=f.COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE,h=f.COVID_MESSAGES,P=f.COVID_BANNER_POST_ID_OVERRIDE_WHITELIST,_={shouldShowCdcMessaging:!1,message:h[y.other]};if(P.includes(u||""))return _;if(m&&m<15778368e5)return _;var w=g.map((function(e){return e.toLowerCase()})),S=(c?E:v).map((function(e){return e.toLowerCase()})),C=n.map((function(e){return w.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),I=o.map((function(e){return S.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowCdcMessaging:d&&!(!C&&!I),message:function(e,t,n){var r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some((function(e){return t.includes(e?e.toLowerCase():"")}))&&r&&[1,2].includes(n||0)?o?e.unbound:e.paywall:null==n?e[y.other]:e[y[n]||b]}(h,S,i,o,s,p)}}({tier:r,topics:n,tags:t,flag:"enable_more_on_coronavirus"}).shouldShowCdcMessaging;return!(!(null==e?void 0:e.coronavirus)||!o)}(o,null==f?void 0:f.map((function(e){return e.id})),null==g?void 0:g.map((function(e){return e.name})),p),M=(0,$e.GT)(S||t.creator);a.useEffect((function(){var e=M?O:L;k.updateWatchedBounds("footer",e,{type:"footer"})}),[L,O]);var F,N=!!(0,x.P5)("enable_end_of_post_cleanup"),j=(0,Ce.k)(),U=null==S?void 0:S.newsletterV3;return a.createElement("div",{ref:L},a.createElement(Se.cW,{source:{name:"follow_footer"}},a.createElement("div",{className:T([(F=!_||D,{marginTop:"40px",clear:"both",marginBottom:F?"40px":void 0}),(0,Wt.o)({flexDirection:"column",justifyContent:"center"})])},a.createElement(d.Pm,{size:"inset"},!_&&a.createElement(d.xu,{height:"20px",borderTop:"BASE_LIGHTER"}),a.createElement((function(){return(null==S?void 0:S.newsletterV3)&&(null==U?void 0:U.showPromo)&&((null==S?void 0:S.viewerIsEditor)||!(null==U?void 0:U.isSubscribed))?a.createElement(c.Xw,{postId:m,publisher:S}):C&&I?a.createElement(c.Xw,{postId:m,publisher:C}):null}),null),a.createElement(d.xu,{display:"flex",flexWrap:"wrap"},_&&a.createElement(_t,{post:t}),_&&a.createElement(Ct,{post:t})),a.createElement(d.xu,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===E&&a.createElement(d.xu,null,a.createElement(Me.F,{scale:"S"},a.createElement(zt.Z,null)," ",a.createElement("span",{className:T(Gt)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==t.license&&a.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),t.license&&"ALL_RIGHTS_RESERVED"!==t.license&&a.createElement(mt,{license:t.license})),M&&a.createElement(a.Fragment,null,!n&&a.createElement(d.xu,{marginTop:"25px",paddingBottom:"25px"},a.createElement(Oe,{post:t,setIsResponsesSidebarVisible:r,useSocialPopover:!0,shouldHideResponsesText:!0,shouldHideClapsText:!0})),f&&f.length>0&&a.createElement(d.xu,{marginTop:"25px",paddingBottom:"40px"},a.createElement(ue,{tags:f,collection:t.collection}))),!M&&a.createElement(a.Fragment,null,f&&f.length>0&&a.createElement(d.xu,{marginTop:"25px"},a.createElement(ue,{tags:f,collection:t.collection})),!n&&a.createElement(Oe,{post:t,setIsResponsesSidebarVisible:r})),M&&!S&&a.createElement(d.xu,{paddingTop:"40px"})),a.createElement("div",{ref:O},a.createElement(d.Pm,{size:"inset"},_&&a.createElement(a.Fragment,null,!M&&a.createElement(qe,{post:t}),w&&a.createElement(d.xu,{borderTop:M?void 0:"BASE_LIGHTER",paddingTop:M?void 0:"25px",print:{display:"none"},sm:{borderTop:N?"NONE":"BASE_LIGHTER",paddingTop:N?"0":"25px"}},!j&&a.createElement(rt,{post:t,setIsResponsesSidebarVisible:r}))),!M&&D&&a.createElement(d.xu,{paddingTop:"25px"},a.createElement(Vt.v,{ref:L,rootMargin:"0px 0px 1000px 0px"},a.createElement(u.PY,{postId:null==o?void 0:o.coronavirus,sourcePost:t})))),M&&a.createElement(a.Fragment,null,a.createElement(Xe,{post:t}),a.createElement(d.xu,{backgroundColor:"BASE_LIGHT",print:{display:"none"},paddingTop:"25px"},a.createElement(d.Pm,{size:"full"},a.createElement($,{post:t,ref:L,rootMargin:R}),S&&a.createElement(d.xu,{marginBottom:"96px",marginTop:"40px"},a.createElement(Je,{collection:S}))))),!i&&_&&!D&&a.createElement(jt.N8,null,a.createElement(Ut.r,null,a.createElement(d.xu,{background:Ht.ix,marginTop:B?void 0:"64px",print:{display:"none"}},a.createElement(d.Pm,null,v&&!v.hideIndex&&!M&&a.createElement(Rt,{sequence:v}),!A&&!M&&(v?a.createElement(Nt,{ref:L,postId:m,rootMargin:R,post:t}):a.createElement(ne,{ref:L,postId:m,rootMargin:R,post:t})),A&&(!M||B&&M)&&a.createElement(h,{post:t,sourceName:"post_internal_links"})))))))))}));var Xt=(0,i.Ps)(Zt(),et),Kt=(0,i.Ps)($t(),$e.C5,c.Rf,Xt,Le,ze,Ke,nt,E,Z,Q,At,Tt,me,de,bt,St,c.e0)},93125:(e,t,n)=>{"use strict";n.d(t,{_U:()=>D,Dk:()=>M});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),s=n.n(l),c=n(46829),u=n(71439),m=n(67294),d=n(70561),p=n(8558),f=n(79316),g=n(62240),v=n(59851),E=n(28309),h=n(90038),x=n(27952);function b(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return b=function(){return e},e}var y=(0,u.Ps)(b()),P=(0,d.$j)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},i=o.focusPercentX,a=o.focusPercentY,l=o.id,s=o.alt,c=r.collection||{},u=c.name,d=c.id,b=r.primaryTopic&&r.primaryTopic.name,y=d&&(n.includes(d)?u:b)||"",P=r&&r.title||"",_=(0,x.jV)(r,t),w=(0,E.Iq)(),S=m.createElement(f.xu,{marginBottom:"4px"},m.createElement(v.Lh,{tag:"span"},m.createElement(g.F,{scale:"S",color:"DARKER"},m.createElement("div",{className:w({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},y))));return m.createElement(f.P3,{href:_},m.createElement(f.xu,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},S,m.createElement(f.xu,{display:"flex",flexDirection:"row"},m.createElement(p.UV,{miroId:l||"",alt:s||"",height:50,width:50,freezeGifs:!0,strategy:h._S.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:i||50,focusPercentY:a||50}),m.createElement(f.xu,{display:"flex",flexDirection:"column",width:"130px"},m.createElement(g.F,{scale:"S",color:"DARKER",clamp:3},P)))))})),_=n(24087),w=n(3149),S=n(80735),C=n(62630),I=n(27572),O=n(11348),L=n(6522);function R(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={display:"none"},A={":last-of-type":{xs:B,sm:B,md:B,lg:B,xl:{display:"block"}}},D=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),i=s()(o,2),a=i[0],l=i[1],u=(0,c.useQuery)(_.e).data,d=(u=void 0===u?{viewer:void 0}:u).viewer,p=(0,c.useLazyQuery)(F),g=s()(p,2),v=g[0],h=g[1],x=h.called,b=h.loading,y=h.error,L=h.data,R=(L=void 0===L?{post:void 0}:L).post,T=d&&M(d)&&!((0,O.yd)()||a),B=(0,C.Av)(),D=(0,E.Iq)(),N=(0,I.Lk)(),j=R&&R.readNext;return m.useEffect((function(){b||!y||j&&j.length||B.event("readNextError",{post:R,postId:r,error:y,readNextLength:j&&j.length||0})}),[b]),m.useEffect((function(){n&&j&&(B.event("readNext.viewed",{position:"sidebar"}),j.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return B.event("post.clientPresented",{source:(0,I.f0)(k({},N,{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,j]),!x&&T&&v({variables:{postId:r||""}}),x&&!b&&!y&&R&&j&&j.length&&T?m.createElement(I.cW,{source:{name:"read_next",sectionType:I.bA.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(f.xu,{width:"188px"},m.createElement(f.xu,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(f.xu,{position:"absolute",right:"0",top:"-4px"},m.createElement(w.Z,{onClick:function(){(0,O.Ph)(),l(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(f.xu,{width:"200px"},m.createElement(S.F1,{scale:"XS"},"Your journey starts here.")),m.createElement(f.xu,{display:"flex",flexDirection:"column",justifyContent:"space-between"},R.readNext.slice(0,4).map((function(e,t){var n=e.post;return m.createElement("div",{className:D(A),key:t},m.createElement(P,{key:t,post:n}))})))))):null};function M(e){return e&&e.createdAt+L.pU>Date.now()}var F=(0,u.Ps)(R(),y)},78221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,U:()=>m});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(8558),s=n(90038);function c(){var e=o()(["\n  fragment SequenceCoverImage_sequence on Sequence {\n    title\n    coverImage {\n      id\n    }\n  }\n"]);return c=function(){return e},e}function u(e){var t=e.sequence,n=e.width,r=e.height,o=t.title,i=t.coverImage;return i?a.createElement("div",null,a.createElement(l.UV,{miroId:i.id,alt:o||"Collection on Medium",width:n,height:r,strategy:s._S.Resample,freezeGifs:!1})):null}var m=(0,i.Ps)(c())},59877:(e,t,n)=>{"use strict";n.d(t,{r:()=>f});var r=n(59713),o=n.n(r),i=n(82492),a=n.n(i),l=n(67294),s=n(66893),c=n(28309),u=n(5955),m=n(57640);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.children,n=!!(0,s.P5)("enable_unbound"),r=(0,c.Fg)(),o=n?function(e){return a()({},e,{newFonts:{title:p({},m.u.newFonts.title,{family:u.H2}),pullQuote:p({},m.u.newFonts.pullQuote,{family:u.H2})}})}(r):r;return l.createElement(c.f6,{theme:o},t)}},5731:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))},93258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(34575),o=n.n(r),i=n(93913),a=n.n(i),l=n(78585),s=n.n(l),c=n(29754),u=n.n(c),m=n(2205),d=n.n(m),p=n(67294),f=n(885),g=n(24087),v=n(79316);const E=function(e){function t(e){var n;return o()(this,t),(n=s()(this,u()(t).call(this,e))).state={isHovering:!1},n}return d()(t,e),a()(t,[{key:"handleMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonSize,r=t.targetUserId,o=this.state.isHovering;return p.createElement(g.Z,null,(function(t){return p.createElement(f.Z,{targetUserId:r,viewerId:t&&t.id},(function(t){var r=t.mutate;return p.createElement(v.zx,{buttonStyle:o?"SUBTLE":"ERROR",onClick:r,size:n||"REGULAR",onMouseEnter:function(){return e.handleMouseEnter()},onMouseLeave:function(){return e.handleMouseLeave()}},o?"Unblock":"Blocked")}))}))}}]),t}(p.Component)},81952:(e,t,n)=>{"use strict";n.d(t,{T:()=>g});var r=n(28655),o=n.n(r),i=n(71439),a=n(80439),l=n(67294),s=n(62630),c=n(72846);function u(){var e=o()(["\n  fragment PostContentScreen_post on Post {\n    id\n    title\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n    creator {\n      id\n      ...PostBody_creator\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function m(e){var t=e.post,n={bodyModel:t.content.bodyModel,creator:t.creator,postBodyInserts:null,ref:null,richTextStyle:"FULL_PAGE",customStyleSheet:null};return l.createElement(c.ZP,n)}var d=(0,i.Ps)(u(),c.v,c.Pk);function p(){var e=o()(["\n  query EmbeddedPostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      ...PostContentScreen_post\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f=(0,i.Ps)(p(),d),g=function(e){var t=e.postId,n=e.children,r=(0,s.Av)();return l.createElement(a.AE,{query:f,variables:{postId:t,postMeteringOptions:{source:null,referrer:null,sk:null}}},(function(e){var o=e.loading,i=e.error,a=e.data,s=(a=void 0===a?{}:a).post;return o?n(null):i?(r.event("embeddedPost.error",{errorMessage:i.message,postId:t}),n(null)):s?(r.event("embeddedPost.postPresented",{postId:t}),n(l.createElement(m,{post:s}))):(r.event("embeddedPost.noPost",{postId:t}),n(null))}))}},19307:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(70561),o=n(32956);function i(){var e=(0,r.v9)((function(e){var t=e.session;return{user:t.user,isSpoofed:t.isSpoofed}})),t=e.user.id,n=e.isSpoofed;return!(t&&(0,o.j)(t)||n)}},83024:(e,t,n)=>{"use strict";n.d(t,{Gj:()=>p,eu:()=>f,Sz:()=>g});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(50361),s=n.n(l),c=n(71439),u=n(14391);function m(){var e=o()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return m=function(){return e},e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(e){var t=100;if(1!==e.paragraphs.length)return null;var n=s()(e.paragraphs[0]),r=n.text||"",o=0,i=e.startOffset||0,a=e.endOffset||r.length;if(r.length-a>t&&(r=r.substring(0,a+t)+"…"),i>t){var l=i-t;r="…"+r.substring(l),o=l-1}n.text=r,n.type=u.NJ.P,n.markups.unshift({end:a,start:i,type:u.Jh.HIGHLIGHT});var c=!0,m=!1,d=void 0;try{for(var p,f=n.markups[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var g=p.value;g.start-=o,g.end-=o}}catch(e){m=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(m)throw d}}return n},f=function(e){if(1!==e.paragraphs.length)return null;var t=e.paragraphs[0].text||"",n=e.startOffset||0,r=e.endOffset||t.length,o=t.slice(n,r);return o.length>=185&&(o=o.substring(0,185)+"..."),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.paragraphs[0],{text:o,type:u.NJ.P,markups:[{end:o.length,start:0,type:u.Jh.HIGHLIGHT,anchorType:null,href:null,linkMetadata:null,userId:null}],hasDropCap:null,dropCapImage:null})},g=(0,c.Ps)(m())}}]);
//# sourceMappingURL=1316.4aab7854.chunk.js.map